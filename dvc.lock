schema: '2.0'
stages:
  database:
    cmd: python ./src/data_ing_database/database.py ./data/raw/web_data.csv ./data/harf_prose/
    deps:
    - path: ./data/raw/web_data.csv
      hash: md5
      md5: 69a16be36f873d580c9fade1802d8c22
      size: 101505
    - path: ./src/data_ing_database/database.py
      hash: md5
      md5: 77189792077537c37b3246a2eb46b574
      size: 2399
    params:
      params.yaml:
        database.random_state: 44
        database.test_size: 0.2
    outs:
    - path: data/harf_prose/
      hash: md5
      md5: 7aac3a6c544206bedf4f319948f95e30.dir
      size: 47941
      nfiles: 2
  preprocessing:
    cmd: python ./src/data_prepro/preprocessing.py ./data/harf_prose/train.csv ./data/harf_prose/test.csv
      ./data/processed/
    deps:
    - path: ./data/harf_prose/
      hash: md5
      md5: 7aac3a6c544206bedf4f319948f95e30.dir
      size: 47941
      nfiles: 2
    - path: ./src/data_prepro/preprocessing.py
      hash: md5
      md5: ae5f00f4595bdf5088b744a1b0e5b07b
      size: 6112
    outs:
    - path: data/processed/
      hash: md5
      md5: 1989d445a8c517ada34219bda9eadd0f.dir
      size: 44084
      nfiles: 2
  web_scrap:
    cmd: python ./src/data_ing/web_scrap.py ./data/raw/
    deps:
    - path: ./src/data_ing/web_scrap.py
      hash: md5
      md5: 05efc6c532d7ab1d493671dec878ddb5
      size: 1950
    params:
      params.yaml:
        web_scrap.page_number: 499
  make_model:
    cmd: python ./src/model/make_model.py ./data/processed/preprocessing_train.csv
      ./models/cat
    deps:
    - path: ./data/processed/preprocessing_train.csv
      hash: md5
      md5: 1248e53a49e3dfed7f6eb3cb7326837c
      size: 35082
    - path: ./src/model/make_model.py
      hash: md5
      md5: 3027fc0ddae62d80e8383a3ae557f2ef
      size: 1966
    params:
      params.yaml:
        make_model:
          iterations:
          - 500
          - 1000
          depth:
          - 4
          - 6
          - 10
          learning_rate:
          - 0.01
          - 0.05
          - 0.1
          l2_leaf_reg:
          - 1
          - 3
          - 5
          border_count:
          - 32
          - 64
          - 128
    outs:
    - path: models/cat/
      hash: md5
      md5: 2b0f1f4ec38489ed79f174726f8b3da9.dir
      size: 1107885
      nfiles: 1
  log:
    cmd: python ./src/log_params/log.py ./data/processed/preprocessing_test.csv ./models/cat/catmodel.joblib
    deps:
    - path: ./data/processed/preprocessing_test.csv
      hash: md5
      md5: 2f3b92df9c72f5dfbdd28089a6051ede
      size: 13331
    - path: ./models/cat/catmodel.joblib
      hash: md5
      md5: 7d0b11ea9c2ca45e6f56c9e5df9c7ddc
      size: 14403869
    - path: ./src/log_params/log.py
      hash: md5
      md5: 70d6fc1cf45229c4b18cea3ee5bf8398
      size: 1278
